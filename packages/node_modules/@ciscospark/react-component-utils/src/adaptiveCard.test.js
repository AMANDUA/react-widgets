import {getAdaptiveCardFeatureState} from './adaptiveCard';
import {WIDGET_ADAPTIVE_CARD, WIDGET_ADAPTIVE_CARD_OFF, WIDGET_ADAPTIVE_CARD_ON, DEVELOPER} from './constants';

describe('Get Adaptive Card Feature State', () => {
  let features;
  let items;

  beforeEach(() => {
    features = new Map();
    items = new Map();
  });

  it('returns WIDGET_ADAPTIVE_CARD_OFF if features are not set', () => {
    expect(getAdaptiveCardFeatureState(features)).toEqual(WIDGET_ADAPTIVE_CARD_OFF);
  });

  it(`returns WIDGET_ADAPTIVE_CARD_ON if ${DEVELOPER} feature "${WIDGET_ADAPTIVE_CARD}" is set `, () => {
    features.set('items', items.set(WIDGET_ADAPTIVE_CARD, true));
    expect(getAdaptiveCardFeatureState(features)).toEqual(WIDGET_ADAPTIVE_CARD_ON);
  });
});
