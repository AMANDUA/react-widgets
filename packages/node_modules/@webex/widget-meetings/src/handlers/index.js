import {compose, withHandlers} from 'recompose';
import {connect} from 'react-redux';
import {bindActionCreators} from 'redux';

import {createAndJoinMeeting} from '@webex/redux-module-meetings';

function handleStartMeeting(props) {
  return () => {
    const {destinationId, destinationType, sdkInstance} = props;

    props.createAndJoinMeeting({destinationId, destinationType}, sdkInstance);
  };
}

export default compose(
  connect(
    null,
    (dispatch) => bindActionCreators({
      createAndJoinMeeting
    }, dispatch)
  ),
  withHandlers({
    onStartMeeting: handleStartMeeting
  })
);
