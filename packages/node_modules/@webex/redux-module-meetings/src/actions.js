export const STORE_MEETING = 'meetings/CREATE_MEETING';

function storeMeeting({destinationType, destinationId, meeting}) {
  return {
    type: STORE_MEETING,
    payload: {
      destinationType,
      destinationId,
      meeting
    }
  };
}

export function createMeeting({destinationType, destinationId}, sdkInstance) {
  return (dispatch) => sdkInstance.meetings.create(destinationId).then((meeting) => {
    dispatch(storeMeeting({destinationId, destinationType, meeting}));

    return meeting;
  });
}
